import{K as S,L as f,M as v}from"./index.1ed41703.js";const N=[Element,String],x=[null,document,document.body,document.scrollingElement,document.documentElement];function $(e,t){let o=S(t);if(o===void 0){if(e==null)return window;o=e.closest(".scroll,.scroll-y,.overflow-auto")}return x.includes(o)?window:o}function T(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function _(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let u;function j(){if(u!==void 0)return u;const e=document.createElement("p"),t=document.createElement("div");f(e,{width:"100%",height:"200px"}),f(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const o=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return o===i&&(i=t.clientWidth),t.remove(),u=o-i,u}function L(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}function m(e){return encodeURIComponent(e)}function p(e){return decodeURIComponent(e)}function b(e){return m(e===Object(e)?JSON.stringify(e):""+e)}function k(e){if(e==="")return e;e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=p(e.replace(/\+/g," "));try{const t=JSON.parse(e);(t===Object(t)||Array.isArray(t)===!0)&&(e=t)}catch{}return e}function g(e){const t=new Date;return t.setMilliseconds(t.getMilliseconds()+e),t.toUTCString()}function y(e){let t=0;const o=e.match(/(\d+)d/),i=e.match(/(\d+)h/),n=e.match(/(\d+)m/),c=e.match(/(\d+)s/);return o&&(t+=o[1]*864e5),i&&(t+=i[1]*36e5),n&&(t+=n[1]*6e4),c&&(t+=c[1]*1e3),t===0?e:g(t)}function w(e,t,o={},i){let n,c;o.expires!==void 0&&(Object.prototype.toString.call(o.expires)==="[object Date]"?n=o.expires.toUTCString():typeof o.expires=="string"?n=y(o.expires):(c=parseFloat(o.expires),n=isNaN(c)===!1?g(c*864e5):o.expires));const d=`${m(e)}=${b(t)}`,l=[d,n!==void 0?"; Expires="+n:"",o.path?"; Path="+o.path:"",o.domain?"; Domain="+o.domain:"",o.sameSite?"; SameSite="+o.sameSite:"",o.httpOnly?"; HttpOnly":"",o.secure?"; Secure":"",o.other?"; "+o.other:""].join("");if(i){i.req.qCookies?i.req.qCookies.push(l):i.req.qCookies=[l],i.res.setHeader("Set-Cookie",i.req.qCookies);let r=i.req.headers.cookie||"";if(n!==void 0&&c<0){const s=h(e,i);s!==void 0&&(r=r.replace(`${e}=${s}; `,"").replace(`; ${e}=${s}`,"").replace(`${e}=${s}`,""))}else r=r?`${d}; ${r}`:l;i.req.headers.cookie=r}else document.cookie=l}function h(e,t){const o=t?t.req.headers:document,i=o.cookie?o.cookie.split("; "):[],n=i.length;let c=e?null:{},d=0,l,r,s;for(;d<n;d++)if(l=i[d].split("="),r=p(l.shift()),s=l.join("="),!e)c[r]=s;else if(e===r){c=k(s);break}return c}function C(e,t,o){w(e,"",{expires:-1,...t},o)}function O(e,t){return h(e,t)!==null}function E(e){return{get:t=>h(t,e),set:(t,o,i)=>w(t,o,i,e),has:t=>O(t,e),remove:(t,o)=>C(t,o,e),getAll:()=>h(null,e)}}const a={install({$q:e,ssrContext:t}){e.cookies=this}};Object.assign(a,E());const W=v("base",{state:()=>({theme:"light"}),getters:{getTheme(){return this.theme=a.has("vcip_theme")?a.get("vcip_theme"):"light",this.theme}},actions:{setTheme(){a.has("vcip_theme")?a.get("vcip_theme")=="light"?(a.set("vcip_theme","dark",{sameSite:"None",secure:!0}),this.theme="dark"):(a.set("vcip_theme","light",{sameSite:"None",secure:!0}),this.theme="light"):(a.set("vcip_theme","dark",{sameSite:"None",secure:!0}),this.theme="dark")}}});export{T as a,_ as b,j as c,$ as g,L as h,N as s,W as u};
